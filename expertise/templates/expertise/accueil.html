{% extends 'expertise/layout.html' %}
{% block title %}Accueil CEPN{% endblock %}
{% block page_icon %}{% endblock %}
{% block page_title %}Centre d'expertises mÃ©dicales{% endblock %}
{% block page_subtitle %}
    <div class="home-subheader">
        <p class="home-subheader__lead">Suivi quotidien des personnels navigants de PolynÃ©sie franÃ§aise. Retrouvez en un clin d'Å“il vos dossiers, bordereaux et factures.</p>
        <section class="card user-card home-subheader__card">
            <div class="user-card__header">
                <span class="user-card__emoji">ğŸ‘‹</span>
                <div>
                    <h2>Bonjour {{ user.username }}</h2>
                    <p>Bienvenue sur l'espace d'administration du CEPN.</p>
                </div>
            </div>
            <div class="user-card__actions">
                <a class="btn" href="{% url 'logout' %}">Se dÃ©connecter</a>
            </div>
        </section>
    </div>
{% endblock %}

{% block extra_head %}
<style>
    .user-card__actions {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
    }

    .shortcuts {
        margin-top: 10px;
    }

    .home-subheader {
        display: grid;
        grid-template-columns: minmax(0, 1fr) auto;
        gap: 24px;
        align-items: start;
    }

    .home-subheader__lead {
        margin: 0;
        color: var(--text-secondary);
    }

    .home-subheader__card {
        width: 320px;
        background: linear-gradient(135deg, rgba(66, 165, 245, 0.85), rgba(13, 71, 161, 0.75));
        color: #fff;
    }

    .page__icon {
        display: none;
    }

    .page__header {
        background: linear-gradient(135deg, #0a1e3f, #123f74);
        padding: 26px 28px;
        border-radius: 16px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.35);
        color: #fff;
        margin-bottom: 18px;
    }

    .page__header h1,
    .page__header p {
        color: #fff;
    }

    .home-subheader__card .btn {
        background: rgba(255, 255, 255, 0.18);
        color: #fff;
    }

    .home-subheader__card .btn:hover {
        background: rgba(255, 255, 255, 0.28);
        box-shadow: none;
    }

    .info-banner {
        margin-top: 12px;
        background: rgba(13, 71, 161, 0.08);
        border-left: 4px solid rgba(13, 71, 161, 0.4);
        border-radius: 12px;
        padding: 18px 22px;
        color: var(--text-secondary);
        font-size: 0.95rem;
    }

    @media (max-width: 760px) {
        .home-subheader {
            grid-template-columns: 1fr;
        }

        .home-subheader__card {
            width: 100%;
        }
    }
</style>
{% endblock %}

{% block back_link %}{% endblock %}

{% block content %}
    <section class="card-grid shortcuts">
        <a class="card card--link" href="{% url 'personnel_list' %}">
            <span class="card__icon">ğŸ‘¤</span>
            <h3 class="card__title">Personnel navigant</h3>
            <p class="card__subtitle">Consulter, crÃ©er et suivre les dossiers des navigants.</p>
        </a>
        <a class="card card--link" href="{% url 'facture_search' %}">
            <span class="card__icon">ğŸ”</span>
            <h3 class="card__title">Recherche facture</h3>
            <p class="card__subtitle">Retrouver une facture Ã  partir d'un numÃ©ro ou d'un patient.</p>
        </a>
        <a class="card card--link" href="{% url 'facture_par_compagnie' %}">
            <span class="card__icon">âœˆï¸</span>
            <h3 class="card__title">Factures par compagnie</h3>
            <p class="card__subtitle">Visualiser les totaux par transporteur et le dÃ©tail associÃ©.</p>
        </a>
        <a class="card card--link" href="{% url 'bordereau_par_compagnie' %}">
            <span class="card__icon">ğŸ§¾</span>
            <h3 class="card__title">Bordereaux</h3>
            <p class="card__subtitle">Consulter les montants, gÃ©nÃ©rer les virements et vÃ©rifier les factures.</p>
        </a>
        <a class="card card--link" href="{% url 'intervenants_list' %}">
            <span class="card__icon">ğŸ‘¨â€âš•ï¸</span>
            <h3 class="card__title">Intervenants mÃ©dicaux</h3>
            <p class="card__subtitle">Suivre les mÃ©decins, leur activitÃ© et leurs honoraires.</p>
        </a>
        <a class="card card--link" href="{% url 'relance_factures' %}">
            <span class="card__icon">ğŸ“¬</span>
            <h3 class="card__title">Relances</h3>
            <p class="card__subtitle">Identifier les factures Ã  relancer (plus de 6 mois).</p>
        </a>
        <a class="card card--link" href="{% url 'export_evenements_excel' %}">
            <span class="card__icon">ğŸ“Š</span>
            <h3 class="card__title">Export Excel</h3>
            <p class="card__subtitle">Exporter les Ã©vÃ©nements pour les partager ou les archiver.</p>
        </a>
        <a class="card card--link" href="{% url 'admin:index' %}">
            <span class="card__icon">âš™ï¸</span>
            <h3 class="card__title">Administration</h3>
            <p class="card__subtitle">AccÃ©der au back-office Django pour des actions avancÃ©es.</p>
        </a>
    </section>

    <section class="info-banner">
        ğŸ”” Astuce : pensez Ã  gÃ©nÃ©rer rÃ©guliÃ¨rement les bordereaux et factures mÃ©decins pour garder votre comptabilitÃ© Ã  jour. Chaque action est historisÃ©e automatiquement.
    </section>
{% endblock %}

{% block page_footer %}{% endblock %}
